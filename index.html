<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√¥ng c·ª• x·ª≠ l√Ω Vi·ªát Phrase</title>
    <script src="./scripts/common.js?v=202510091200"></script>
    <link href="./css/style.css?v=202510091200" rel="stylesheet">
</head>

<body>
    <div id="waitLayer" class="wait-layer" style="display:none;">
        <div class="spinner"></div>
    </div>
    <div class="container">
        <div class="header">
            <h1>üîß C√¥ng c·ª• x·ª≠ l√Ω Vi·ªát Phrase</h1>
            <p>C√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ x·ª≠ l√Ω, ph√¢n t√≠ch v√† h·ª£p nh·∫•t c√°c file Vi·ªát Phrase v·ªõi kh·∫£ nƒÉng ch·ªânh s·ª≠a</p>
        </div>

        <div class="tools-container">
            <!-- Tool 1: File Parser -->
            <div class="tool-section">
                <div class="tool-header" onclick="toggleTool('parse')">
                    <div class="tool-title">
                        <div class="tool-icon">üìÑ</div>
                        Ph√¢n t√≠ch File Vi·ªát Phrase
                    </div>
                    <div class="collapse-indicator" id="parseIndicator">‚ñº</div>
                </div>
                <div class="tool-content" id="parseContent">
                    <div class="tool-inner">
                        <div class="form-section">
                            <div class="input-group">
                                <label class="input-label">Ch·ªçn file .txt:</label>
                                <input type="file" id="parseFile" class="file-input" accept=".txt">
                            </div>

                            <div class="input-group">
                                <label class="input-label">Ho·∫∑c paste n·ªôi dung:</label>
                                <textarea id="parseInput" class="textarea"
                                    placeholder="D√°n n·ªôi dung file v√†o ƒë√¢y...&#10;V√≠ d·ª•:&#10;XIN CH√ÄO=hello/hi/greetings&#10;C·∫¢M ∆†N=thank you/thanks"></textarea>
                            </div>
                        </div>

                        <div class="button-group">
                            <button class="btn btn-primary" onclick="parseFile()">üìä Ph√¢n t√≠ch</button>
                            <button class="btn btn-secondary" onclick="clearParseResult()">üóëÔ∏è X√≥a</button>
                        </div>

                        <div class="loading" id="parseLoading">
                            <div class="spinner"></div>
                            <p>ƒêang ph√¢n t√≠ch file...</p>
                        </div>

                        <div class="alert error" id="parseError"></div>
                        <div class="alert success" id="parseSuccess"></div>

                        <div class="preview-section" id="parsePreview" style="display: none;">
                            <div class="preview-header">
                                <div class="preview-title">üìä K·∫øt qu·∫£ ph√¢n t√≠ch</div>
                            </div>

                            <div class="stats" id="parseStats"></div>

                            <div class="search-container">
                                <input type="text" id="parseSearchKey" class="search-input"
                                    placeholder="T√¨m t·ª´ kh√≥a...">
                                <input type="text" id="parseSearchMeaning" class="search-input"
                                    placeholder="T√¨m nghƒ©a...">
                                <input type="number" id="parseSearchLine" class="search-input" placeholder="S·ªë d√≤ng..."
                                    min="1">
                                <button class="search-btn" onclick="searchInParse()">üîç T√¨m</button>
                                <button class="search-btn" onclick="goToLine('parse')">üìç ƒê·∫øn d√≤ng</button>
                            </div>

                            <div class="search-results" id="parseSearchResults"></div>

                            <div class="input-group">
                                <div style="display:flex;gap:10px;">
                                    <button class="search-btn" style="display: none;"
                                        onclick="navigateResult('parse', 'prev')" id="parsePrevBtn">‚¨ÜÔ∏è Tr∆∞·ªõc</button>
                                    <button class="search-btn" style="display: none;"
                                        onclick="navigateResult('parse', 'next')" id="parseNextBtn">‚¨áÔ∏è Sau</button>
                                </div>
                                <label class="input-label">Ch·ªânh s·ª≠a k·∫øt qu·∫£:</label>
                                <div id="parseEditArea" contenteditable="true" class="edit-textarea"></div>
                            </div>

                            <div class="button-group">
                                <button class="btn btn-success" onclick="downloadParseResult()">üíæ T·∫£i xu·ªëng</button>
                                <button class="btn btn-primary" onclick="resetParseEdit()">‚Üª Kh√¥i ph·ª•c</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tool 2: File Merger -->
            <div class="tool-section">
                <div class="tool-header" onclick="toggleTool('merge')">
                    <div class="tool-title">
                        <div class="tool-icon">üîó</div>
                        H·ª£p nh·∫•t File Vi·ªát Phrase
                    </div>
                    <div class="collapse-indicator" id="mergeIndicator">‚ñº</div>
                </div>
                <div class="tool-content" id="mergeContent">
                    <div class="tool-inner">
                        <div class="form-section">
                            <div class="input-group">
                                <label class="input-label">File ch√≠nh:</label>
                                <input type="file" id="mainFile" class="file-input" accept=".txt">
                            </div>

                            <div class="input-group">
                                <label class="input-label">File ph·ª•:</label>
                                <input type="file" id="secondaryFile" class="file-input" accept=".txt">
                            </div>

                            <div class="input-group">
                                <label class="input-label">Ho·∫∑c paste n·ªôi dung file ch√≠nh:</label>
                                <textarea id="mainContent" class="textarea"
                                    placeholder="N·ªôi dung file ch√≠nh..."></textarea>
                            </div>

                            <div class="input-group">
                                <label class="input-label">Ho·∫∑c paste n·ªôi dung file ph·ª•:</label>
                                <textarea id="secondaryContent" class="textarea"
                                    placeholder="N·ªôi dung file ph·ª•..."></textarea>
                            </div>
                        </div>

                        <div class="merge-options">
                            <div class="option-card" onclick="selectMergeOption('secondary')" id="option-secondary">
                                <div class="option-title">Nghƒ©a ph·ª•</div>
                                <div class="option-desc">Ch·ªâ gi·ªØ nghƒ©a t·ª´ file ph·ª•</div>
                            </div>
                            <div class="option-card" onclick="selectMergeOption('secondary-main')"
                                id="option-secondary-main">
                                <div class="option-title">Nghƒ©a ph·ª• + ch√≠nh</div>
                                <div class="option-desc">Nghƒ©a ph·ª• tr∆∞·ªõc, ch√≠nh sau</div>
                            </div>
                            <div class="option-card" onclick="selectMergeOption('main')" id="option-main">
                                <div class="option-title">Nghƒ©a ch√≠nh</div>
                                <div class="option-desc">Ch·ªâ gi·ªØ nghƒ©a t·ª´ file ch√≠nh</div>
                            </div>
                            <div class="option-card selected" onclick="selectMergeOption('main-secondary')"
                                id="option-main-secondary">
                                <div class="option-title">Nghƒ©a ch√≠nh + ph·ª•</div>
                                <div class="option-desc">Nghƒ©a ch√≠nh tr∆∞·ªõc, ph·ª• sau</div>
                            </div>
                        </div>

                        <div class="button-group">
                            <button class="btn btn-primary" onclick="mergeFiles()">üîó H·ª£p nh·∫•t</button>
                            <button class="btn btn-secondary" onclick="clearMergeResult()">üóëÔ∏è X√≥a</button>
                        </div>

                        <div class="loading" id="mergeLoading">
                            <div class="spinner"></div>
                            <p>ƒêang h·ª£p nh·∫•t file...</p>
                        </div>

                        <div class="alert error" id="mergeError"></div>
                        <div class="alert success" id="mergeSuccess"></div>

                        <div class="preview-section" id="mergePreview" style="display: none;">
                            <div class="preview-header">
                                <div class="preview-title">üéØ K·∫øt qu·∫£ h·ª£p nh·∫•t</div>
                            </div>

                            <div class="stats" id="mergeStats"></div>

                            <div class="search-container">
                                <input type="text" id="mergeSearchKey" class="search-input"
                                    placeholder="T√¨m t·ª´ kh√≥a...">
                                <input type="text" id="mergeSearchMeaning" class="search-input"
                                    placeholder="T√¨m nghƒ©a...">
                                <input type="number" id="mergeSearchLine" class="search-input" placeholder="S·ªë d√≤ng..."
                                    min="1">
                                <button class="search-btn" onclick="searchInMerge()">üîç T√¨m</button>
                                <button class="search-btn" onclick="goToLine('merge')">üìç ƒê·∫øn d√≤ng</button>
                            </div>

                            <div class="search-results" id="mergeSearchResults"></div>

                            <div class="input-group">
                                <div style="display:flex;gap:10px;">
                                    <button class="search-btn" style="display: none;"
                                        onclick="navigateResult('merge', 'prev')" id="mergePrevBtn">‚¨ÜÔ∏è Tr∆∞·ªõc</button>
                                    <button class="search-btn" style="display: none;"
                                        onclick="navigateResult('merge', 'next')" id="mergeNextBtn">‚¨áÔ∏è Sau</button>
                                </div>
                                <label class="input-label">Ch·ªânh s·ª≠a k·∫øt qu·∫£ (ph·∫ßn ƒë∆∞·ª£c s·ª≠a s·∫Ω ƒë∆∞·ª£c highlight):</label>
                                <div id="mergeEditArea" contenteditable="true" class="edit-textarea"></div>
                            </div>

                            <div class="button-group">
                                <button class="btn btn-success" onclick="downloadMergeResult()">üíæ T·∫£i xu·ªëng</button>
                                <button class="btn btn-primary" onclick="resetMergeEdit()">‚Üª Kh√¥i ph·ª•c</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tool-section">
                <div class="tool-header" onclick="toggleTool('filter')">
                    <div class="tool-title">
                        <div class="tool-icon">üìÑ</div>
                        L·ªçc name trong vietpharse
                    </div>
                    <div class="collapse-indicator" id="filterIndicator">‚ñº</div>
                </div>
                <div class="tool-content" id="filterContent">
                    <div class="tool-inner">
                        <div class="form-section">
                            <div class="input-group">
                                <label class="input-label">Ch·ªçn file .txt:</label>
                                <input type="file" id="filterFile" class="file-input" accept=".txt">
                            </div>

                            <div class="input-group">
                                <label class="input-label">Ho·∫∑c paste n·ªôi dung:</label>
                                <textarea id="filterInput" class="textarea"
                                    placeholder="D√°n n·ªôi dung file v√†o ƒë√¢y...&#10;V√≠ d·ª•:&#10;XIN CH√ÄO=hello/hi/greetings&#10;C·∫¢M ∆†N=thank you/thanks"></textarea>
                            </div>
                        </div>

                        <div class="button-group">
                            <button class="btn btn-primary" onclick="filterFile()">üìä L·ªçc</button>
                            <button class="btn btn-secondary" onclick="clearfilterResult()">üóëÔ∏è X√≥a</button>
                        </div>

                        <div class="loading" id="filterLoading">
                            <div class="spinner"></div>
                            <p>ƒêang ph√¢n t√≠ch file...</p>
                        </div>

                        <div class="alert error" id="filterError"></div>
                        <div class="alert success" id="filterSuccess"></div>

                        <div class="preview-section" id="filterPreview" style="display: none;">
                            <div class="preview-header">
                                <div class="preview-title">üìä K·∫øt qu·∫£ ph√¢n t√≠ch</div>
                            </div>

                            <div class="stats" id="filterStats"></div>

                            <div class="search-container">
                                <input type="text" id="filterSearchKey" class="search-input"
                                    placeholder="T√¨m t·ª´ kh√≥a...">
                                <input type="text" id="filterSearchMeaning" class="search-input"
                                    placeholder="T√¨m nghƒ©a...">
                                <input type="number" id="filterSearchLine" class="search-input" placeholder="S·ªë d√≤ng..."
                                    min="1">
                                <button class="search-btn" onclick="searchInfilter()">üîç T√¨m</button>
                                <button class="search-btn" onclick="goToLine('filter')">üìç ƒê·∫øn d√≤ng</button>
                            </div>

                            <div class="search-results" id="filterSearchResults"></div>

                            <div class="input-group">
                                <div style="display:flex;gap:10px;">
                                    <button class="search-btn" style="display: none;"
                                        onclick="navigateResult('filter', 'prev')" id="filterPrevBtn">‚¨ÜÔ∏è Tr∆∞·ªõc</button>
                                    <button class="search-btn" style="display: none;"
                                        onclick="navigateResult('filter', 'next')" id="filterNextBtn">‚¨áÔ∏è Sau</button>
                                </div>
                                <label class="input-label">Ch·ªânh s·ª≠a k·∫øt qu·∫£:</label>
                                <div id="filterEditArea" contenteditable="true" class="edit-textarea"></div>
                            </div>

                            <div class="button-group">
                                <button class="btn btn-success" onclick="downloadfilterResult()">üíæ T·∫£i xu·ªëng</button>
                                <button class="btn btn-primary" onclick="resetfilterEdit()">‚Üª Kh√¥i ph·ª•c</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>